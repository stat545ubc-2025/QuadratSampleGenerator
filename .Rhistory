library(tidyverse) # Installing packages required for the function
library(testthat)
library(roxygen2)
library(ggplot2)
QuadratSampleGenerator <- function(height, width, n_quadrats) {
# Throw an error if one of the parameters entered is not an integer
if(any(c(height, width, n_quadrats) %% 1 != 0)){ # If parameters are not divisible by 1 with remainder of 0
stop("height, width, or n_quadrats must be an integer") # Throw this error message and stop the function
}
# Throw an error if one of the parameters entered is 0
if(any(c(height, width, n_quadrats) == 0)){ # If parameters are 0
stop("height, width, or n_quadrats cannot be 0") # Throw this error message and stop the function
}
# Throw an error if one of the parameters entered is negative
if(any(c(height, width, n_quadrats) < 0)){ # If parameters are negative
stop("height, width, or n_quadrats cannot be negative") # Throw this error message and stop the function
}
# Throw an error if the n_quadrats is larger than the height * width parameters
if(n_quadrats > height * width){ # If parameters are negative
stop("n_quadrats cannot be greater than the total number of quadrats")
}
# Creates a grid using the dimensions given
grid <- expand_grid(height = 1:height,
width = 1:width)
# Randomly select quadrats
samples <- sample(1:nrow(grid), n_quadrats)
# Mark sampled quadrats
grid$sample <- "Unsampled"
grid$sample[samples] <- "Sampled"
# Plot the map
ggplot(grid, aes(x = width, y = height, fill = sample)) +
geom_tile(color = "black") + # Outlines quadrats in black
scale_fill_manual(values = c("Sampled" = "black", "Unsampled" = "white")) +
scale_y_continuous(breaks = c(1:height)) + # Marks each cell given
scale_x_continuous(breaks = c(1:width)) +
theme_classic()
}
library(devtools)
document()
use_git()
load_all()
load_all()
QuadratSampleGenerator(3, 6, 5)
check()
load_all()
check()
document()
check()
document()
check()
document()
check()
?QuadratSampleGenerator
use_mit_license("Freya Innes")
document()
check()
use_readme_rmd()
use_readme_rmd()
use_readme_rmd()
use_readme_rmd()
use_readme_rmd()
use_readme_rmd()
library(QuadratSampleGenerator)
QuadratSampleGenerator(width = 5, height = 3, n_quadrats = 4)
build_readme()
use_mit_license("Freya Innes")
usethis::use_mit_license("Freya Innes")
document()
check()
file.exists("LICENSE")
usethis::use_mit_license("Freya Innes")
document()
check()
document()
check()
use_testthat
use_testthat()
usethis::use_test("QuadratSampleGenerator")
test_that("multiplication works", {
expect_equal(2 * 2, 4)
})
test()
use_github()
use_github
Function randomly selects the desired number of quadrats to be sampled based on the given dimensions of the gridded study site, and plots a map showing these quadrats. Input should not be a vector (integer value only).
use_github()
Function randomly selects the desired number of quadrats to be sampled based on
# QuadratSampleGenerator
Function randomly selects the desired number of quadrats to be sampled based on
usethis::use_github()
rlang::last_trace()
use_github()
rlang::last_trace(drop = FALSE)
use_github()
use_news_md()
git add .
test_that("QuadratSampleGenerator works", {
expect_error(quadrat_sample_generator(2.5, 10, 12)) # Check if error for non integers is recognized
expect_error(quadrat_sample_generator(-10, 10, 25)) # Check if error for negative numbers is recognized
expect_error(quadrat_sample_generator(1, 5, 6)) # Check if error for n_quadrats sampled is greater than height*width
})
